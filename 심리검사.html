<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ë¯¸ì§€ ì„ íƒ ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸ ğŸ¨</title>
    <!-- Tailwind CSS CDN ë¡œë“œ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-blue': '#4F46E5',
                        'secondary-green': '#10B981',
                        'bg-light': '#F9FAFB',
                    },
                }
            }
        }
    </script>
    <style>
        /* ê¸°ë³¸ í°íŠ¸ ì„¤ì • */
        body { font-family: 'Inter', sans-serif; }
        /* í€´ì¦ˆ ì˜ì—­ì„ ìœ„í•œ ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼ */
        .quiz-transition {
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
        /* ì´ë¯¸ì§€ ì„ íƒì§€ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        .image-option-container {
            cursor: pointer;
            border: 3px solid transparent;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        .image-option-container:hover {
            border-color: #A5B4FC; /* Indigo-300 */
        }
        .image-option-container.selected {
            border-color: #4F46E5; /* primary-blue */
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.3);
            transform: scale(1.02);
        }
        .image-option-container img {
            width: 100%;
            height: auto;
            display: block;
        }
    </style>
</head>
<body class="bg-bg-light min-h-screen flex items-center justify-center p-4">

    <div id="app" class="w-full max-w-lg bg-white rounded-xl shadow-2xl p-6 md:p-8">

        <h1 class="text-3xl font-extrabold text-primary-blue text-center mb-6 border-b pb-4">
            ë‚˜ë§Œì˜ ì´ë¯¸ì§€ ì„ íƒ ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸ ğŸ¨
        </h1>

        <!-- í€´ì¦ˆ ì˜ì—­ -->
        <div id="quiz-container" class="quiz-transition">
            <p id="question-index" class="text-sm font-semibold text-gray-500 mb-2"></p>
            <h2 id="question-text" class="text-xl font-bold text-gray-800 mb-6"></h2>
            
            <!-- ì´ë¯¸ì§€ ì„ íƒì§€ë¥¼ í‘œì‹œí•  ê·¸ë¦¬ë“œ ì»¨í…Œì´ë„ˆ -->
            <div id="options-container" class="grid grid-cols-2 gap-4">
                <!-- ì´ë¯¸ì§€ ì˜µì…˜ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>

            <!-- ë‹¤ìŒ ë²„íŠ¼ -->
            <button id="next-button" 
                    class="mt-8 w-full py-3 bg-secondary-green text-white font-bold rounded-lg shadow-md hover:bg-emerald-600 transition duration-150 disabled:opacity-50 disabled:cursor-not-allowed"
                    disabled>
                ë‹¤ìŒ ì§ˆë¬¸ìœ¼ë¡œ
            </button>
        </div>

        <!-- ê²°ê³¼ ì˜ì—­ (ì´ˆê¸° ìˆ¨ê¹€) -->
        <div id="result-container" class="quiz-transition opacity-0 hidden transform scale-95 text-center p-6 bg-primary-blue/5 rounded-lg">
            <h2 class="text-2xl font-bold text-primary-blue mb-4">í…ŒìŠ¤íŠ¸ ê²°ê³¼ ğŸ‰</h2>
            <p id="result-title" class="text-3xl font-extrabold text-secondary-green mb-4"></p>
            <p id="result-description" class="text-gray-700 mb-8 leading-relaxed"></p>

            <button id="restart-button" 
                    class="w-full py-3 bg-primary-blue text-white font-bold rounded-lg shadow-md hover:bg-indigo-600 transition duration-150">
                ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°
            </button>
        </div>
    </div>

    <script>
        // ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸ ë°ì´í„° (ì§ˆë¬¸, ì´ë¯¸ì§€ ì„ íƒì§€, ì ìˆ˜)
        // ì´ë¯¸ì§€ëŠ” placehold.co ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ì™€ ìƒ‰ìƒìœ¼ë¡œ ëŒ€ì²´ë˜ì—ˆìŠµë‹ˆë‹¤.
        // ì‹¤ì œ ì´ë¯¸ì§€ URLë¡œ ëŒ€ì²´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
        const quizData = [
            {
                question: "1. ì£¼ë§, ë‹¹ì‹ ì´ ê°€ì¥ ëŒë¦¬ëŠ” í’ê²½ì„ ì„ íƒí•˜ì„¸ìš”.",
                options: [
                    { text: "ê³ ìš”í•œ ìˆ²ê¸¸", score: 1, imgUrl: "https://placehold.co/400x250/10B981/ffffff?text=ê³ ìš”í•œ+ìˆ²ê¸¸", category: 'NATURE' },
                    { text: "í™œê¸°ì°¬ ë„ì‹œ ê±°ë¦¬", score: 5, imgUrl: "https://placehold.co/400x250/4F46E5/ffffff?text=í™œê¸°ì°¬+ë„ì‹œ+ê±°ë¦¬", category: 'URBAN' },
                ]
            },
            {
                question: "2. ë‹¹ì‹ ì˜ ì˜í˜¼ì„ ìœ„ë¡œí•˜ëŠ” ë¹›ì€ ë¬´ì—‡ì¸ê°€ìš”?",
                options: [
                    { text: "ì–´ë‘ìš´ ë°©ì˜ ì´›ë¶ˆ (ê¹Šì€ ì‚¬ìƒ‰)", score: 1, imgUrl: "https://placehold.co/400x250/374151/FBBF24?text=ì–´ë‘ìš´+ë°©ì˜+ì´›ë¶ˆ", category: 'CALM' },
                    { text: "íƒœì–‘ ì•„ë˜ ë°ì€ í–‡ì‚´ (ë„˜ì¹˜ëŠ” ì—ë„ˆì§€)", score: 5, imgUrl: "https://placehold.co/400x250/FBBF24/000000?text=íƒœì–‘+ì•„ë˜+ë°ì€+í–‡ì‚´", category: 'VIVID' },
                ]
            },
            {
                question: "3. ë‹¹ì‹ ì´ ì˜¤ëŠ˜ ê°€ì¥ ê°–ê³  ì‹¶ì€ ë¬¼ê±´ì€?",
                options: [
                    { text: "ë‚¡ê³  ë‘êº¼ìš´ ì±… (ì§€ì‹ê³¼ ê²½í—˜)", score: 1, imgUrl: "https://placehold.co/400x250/9CA3AF/ffffff?text=ë‚¡ê³ +ë‘êº¼ìš´+ì±…", category: 'KNOWLEDGE' },
                    { text: "ì˜¤ë˜ëœ ì—´ì‡  (ìƒˆë¡œìš´ íƒí—˜)", score: 5, imgUrl: "https://placehold.co/400x250/DC2626/ffffff?text=ì˜¤ë˜ëœ+ì—´ì‡ ", category: 'EXPLORE' },
                ]
            }
        ];

        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const quizContainer = document.getElementById('quiz-container');
        const resultContainer = document.getElementById('result-container');
        const questionIndexElement = document.getElementById('question-index');
        const questionTextElement = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextButton = document.getElementById('next-button');
        const resultTitleElement = document.getElementById('result-title');
        const resultDescriptionElement = document.getElementById('result-description');
        const restartButton = document.getElementById('restart-button');

        // ìƒíƒœ ë³€ìˆ˜
        let currentQuestionIndex = 0;
        let totalScore = 0;
        let selectedScore = null;

        // í…ŒìŠ¤íŠ¸ ì‹œì‘ ë° ì´ˆê¸°í™”
        function initializeQuiz() {
            currentQuestionIndex = 0;
            totalScore = 0;
            selectedScore = null;
            
            // í™”ë©´ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ (ê²°ê³¼ -> í€´ì¦ˆ)
            resultContainer.classList.add('opacity-0', 'hidden', 'scale-95');
            quizContainer.classList.remove('hidden', 'opacity-0', 'scale-95');
            quizContainer.classList.add('opacity-100', 'scale-100');

            loadQuestion();
        }

        // ì§ˆë¬¸ ë¡œë“œ
        function loadQuestion() {
            if (currentQuestionIndex >= quizData.length) {
                showResult();
                return;
            }

            const currentQuiz = quizData[currentQuestionIndex];
            
            // UI ì—…ë°ì´íŠ¸
            questionIndexElement.textContent = `Question ${currentQuestionIndex + 1} / ${quizData.length}`;
            questionTextElement.textContent = currentQuiz.question;
            optionsContainer.innerHTML = '';
            nextButton.disabled = true;
            selectedScore = null; // ì„ íƒ ì ìˆ˜ ì´ˆê¸°í™”

            // ì´ë¯¸ì§€ ì„ íƒì§€ ìƒì„±
            currentQuiz.options.forEach((option, index) => {
                const optionContainer = document.createElement('div');
                optionContainer.className = 'image-option-container';
                optionContainer.dataset.score = option.score;
                optionContainer.dataset.index = index;

                // ì´ë¯¸ì§€ ìš”ì†Œ
                const img = document.createElement('img');
                img.src = option.imgUrl;
                img.alt = option.text;
                // ì´ë¯¸ì§€ ë¡œë“œ ì˜¤ë¥˜ ë°©ì§€ (CSSë¡œ ì´ë¯¸ì§€ë¥¼ ìˆ¨ê¸°ê³  í…ìŠ¤íŠ¸ë§Œ ë³´ì´ê²Œ ì²˜ë¦¬)
                img.onerror = function() {
                    this.style.display = 'none';
                    const fallbackText = document.createElement('div');
                    fallbackText.textContent = option.text + ' (Image not loaded)';
                    fallbackText.className = 'p-4 text-center text-red-500 font-semibold';
                    optionContainer.appendChild(fallbackText);
                };

                // ìº¡ì…˜/ì„¤ëª… í…ìŠ¤íŠ¸
                const caption = document.createElement('p');
                caption.textContent = option.text;
                caption.className = 'p-2 text-center text-sm font-medium text-gray-700 bg-gray-50';
                
                optionContainer.appendChild(img);
                optionContainer.appendChild(caption);
                
                optionContainer.addEventListener('click', () => selectOption(optionContainer, option.score));
                optionsContainer.appendChild(optionContainer);
            });
        }

        // ì„ íƒì§€ ì„ íƒ ì²˜ë¦¬
        function selectOption(selectedContainer, score) {
            // ëª¨ë“  ì„ íƒì§€ ì»¨í…Œì´ë„ˆì˜ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
            document.querySelectorAll('.image-option-container').forEach(container => {
                container.classList.remove('selected');
            });

            // ì„ íƒëœ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ ì ìš©
            selectedContainer.classList.add('selected');

            selectedScore = score;
            nextButton.disabled = false; // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”
        }

        // ë‹¤ìŒ ë²„íŠ¼ í´ë¦­ ì²˜ë¦¬
        function handleNext() {
            if (selectedScore !== null) {
                totalScore += selectedScore;
                currentQuestionIndex++;
                loadQuestion();
            }
        }

        // ê²°ê³¼ í™”ë©´ í‘œì‹œ
        function showResult() {
            // í™”ë©´ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ (í€´ì¦ˆ -> ê²°ê³¼)
            quizContainer.classList.add('opacity-0', 'scale-95');
            quizContainer.addEventListener('transitionend', () => {
                quizContainer.classList.add('hidden');
                resultContainer.classList.remove('hidden');
                // ê²°ê³¼ ì˜ì—­ì„ í™”ë©´ì— ë‚˜íƒ€ë‚˜ê²Œ í•¨
                setTimeout(() => {
                    resultContainer.classList.remove('opacity-0', 'scale-95');
                    resultContainer.classList.add('opacity-100', 'scale-100');
                }, 10); // ì‘ì€ ì§€ì—°ì„ ì£¼ì–´ íŠ¸ëœì§€ì…˜ì„ ë³´ì¥

                displayResultText(totalScore);
            }, { once: true });
        }

        // ì ìˆ˜ì— ë”°ë¥¸ ê²°ê³¼ í…ìŠ¤íŠ¸ í‘œì‹œ (ì´ì  3~15ì )
        function displayResultText(score) {
            let title = '';
            let description = '';

            if (score >= 11) {
                // 11~15ì : í™œë™ê°€ / ì™¸ë¶€ ì§€í–¥
                title = "âœ¨ ì—­ë™ì ì¸ íƒí—˜ê°€ ìœ í˜•";
                description = "ë‹¹ì‹ ì€ ì™¸ë¶€ ì„¸ê³„ì˜ ì—ë„ˆì§€ì™€ ìê·¹ì„ ì„ í˜¸í•˜ë©°, ìƒˆë¡œìš´ ê²½í—˜ê³¼ ë„ì „ì„ í†µí•´ ì„±ì¥í•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤. í™œë™ì ì¸ í™˜ê²½ì—ì„œ ë¹›ì„ ë°œí•˜ë©°, í˜¸ê¸°ì‹¬ì´ ë§ê³  ì ê·¹ì ìœ¼ë¡œ ì‚¶ì„ ê°œì²™í•©ë‹ˆë‹¤. ë‹¹ì‹ ì—ê²ŒëŠ” 'í™œê¸°ì°¬ ë„ì‹œ ê±°ë¦¬', 'íƒœì–‘ ì•„ë˜ ë°ì€ í–‡ì‚´', 'ì˜¤ë˜ëœ ì—´ì‡ 'ì™€ ê°™ì€ ì—­ë™ì ì¸ ì´ë¯¸ì§€ê°€ ê°•í•˜ê²Œ ëŒë¦½ë‹ˆë‹¤.";
            } else if (score >= 6) {
                // 6~10ì : ê· í˜• / ì¤‘ë„ ì§€í–¥
                title = "ğŸŒ¿ ìœ ì—°í•œ ê· í˜•ì£¼ì˜ì ìœ í˜•";
                description = "ë‹¹ì‹ ì€ ë‚´ë¶€ì™€ ì™¸ë¶€ì˜ ê· í˜•ì„ ì¤‘ì‹œí•©ë‹ˆë‹¤. ë•Œë¡œëŠ” ì¡°ìš©í•œ ì‚¬ìƒ‰ì„ ì¦ê¸°ì§€ë§Œ, í•„ìš”í•  ë•ŒëŠ” í™œë°œí•œ í™œë™ì— ì°¸ì—¬í•  ì¤„ ì•„ëŠ” ìœ ì—°ì„±ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤. ìƒí™©ì— ë”°ë¼ ë‹¤ì–‘í•œ ì´ë¯¸ì§€ë¥¼ í¬ìš©í•  ìˆ˜ ìˆëŠ” ì¡°í™”ë¡œìš´ ì„±í–¥ì…ë‹ˆë‹¤.";
            } else {
                // 3~5ì : ì‚¬ìƒ‰ê°€ / ë‚´ë¶€ ì§€í–¥
                title = "ğŸ“š ê³ ìš”í•œ ì‚¬ìƒ‰ê°€ ìœ í˜•";
                description = "ë‹¹ì‹ ì€ ì¡°ìš©í•˜ê³  ì•ˆì •ì ì¸ í™˜ê²½ì—ì„œ ê°€ì¥ í° í¸ì•ˆí•¨ì„ ëŠë‚ë‹ˆë‹¤. ë‚´ë©´ì˜ ê¹Šì€ ìƒê°ê³¼ ê°ì •ì— ì§‘ì¤‘í•˜ë©°, ì™¸ë¶€ì˜ ì†Œë€ìŠ¤ëŸ¬ì›€ë³´ë‹¤ ê³ ë… ì†ì—ì„œ ì§€í˜œë¥¼ ì°¾ìŠµë‹ˆë‹¤. ë‹¹ì‹ ì—ê²ŒëŠ” 'ê³ ìš”í•œ ìˆ²ê¸¸', 'ì–´ë‘ìš´ ë°©ì˜ ì´›ë¶ˆ', 'ë‚¡ê³  ë‘êº¼ìš´ ì±…'ê³¼ ê°™ì€ ì°¨ë¶„í•œ ì´ë¯¸ì§€ê°€ ë§ˆìŒì˜ ì•ˆì •ì„ ì¤ë‹ˆë‹¤.";
            }

            resultTitleElement.textContent = title;
            resultDescriptionElement.textContent = description;
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        nextButton.addEventListener('click', handleNext);
        restartButton.addEventListener('click', initializeQuiz);

        // ì•± ì‹œì‘
        initializeQuiz();

    </script>
</body>
</html>
